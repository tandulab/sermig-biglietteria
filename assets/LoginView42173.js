import{d as b,o as x,u as g,a as y,c as V,_ as L,r as t,b as v,e as P,f as o,w as l,g as a,h as S}from"../index42173.js";import{c as B,a as h,L as C}from"./index.esm42173.js";import{I as W}from"./InputTextWithValidation42173.js";import{P as $}from"./PasswordWithValidation42173.js";import{F as k}from"./vee-validate.esm42173.js";import{u as F,e as I}from"./helpers42173.js";const T=b({name:"LoginView",setup(){x(()=>{e.clearUser()});const e=g(),m=y(),{showLoader:d,hideLoader:n}=F(),p=B({email:h().required().email().label("Email obbligatoria"),password:h().required().label("Password obbligatoria")}),u=V(()=>e.user);return{schema:p,currentUser:u,onSubmit:async function(s,r){const i={email:s.email,password:s.password};d(),await e.login(i).then(async()=>{n(),r.resetForm()}).catch(c=>{n(),I(m,c)})}}},components:{Logo:C,InputTextWithValidation:W,PasswordWithValidation:$,Form:k}});const E={class:"flex justify-content-center align-items-center h-screen mt-0 login"},U={class:"m-2 text-center"},N=a("h1",{class:"mb-3 mt-0 text-center"},"Accedi al profilo",-1),j=a("h2",{class:"text-center font-normal mb-3"}," Benvenuto! Inserisci la tua email e la password ",-1),q={class:"w-full flex justify-content-start cursor-pointer text-color-secondary m-0"};function A(e,m,d,n,p,u){const _=t("Logo"),s=t("InputTextWithValidation"),r=t("PasswordWithValidation"),i=t("router-link"),c=t("Button"),f=t("Form"),w=t("Card");return v(),P("div",E,[o(w,{class:"py-4 px-3"},{content:l(()=>[a("div",U,[o(_)]),N,j,o(f,{"validation-schema":e.schema,onSubmit:e.onSubmit,class:"flex flex-column"},{default:l(()=>[o(s,{name:"email",label:"Email",type:"text"}),o(r,{name:"password",label:"Password",type:"password"}),a("div",q,[o(i,{to:"/password-dimenticata",class:"text-color-secondary"},{default:l(()=>[S("Password dimenticata?")]),_:1})]),o(c,{label:"Entra",type:"submit",class:"mt-5 mb-3"})]),_:1},8,["validation-schema","onSubmit"])]),_:1})])}const K=L(T,[["render",A]]);export{K as default};
